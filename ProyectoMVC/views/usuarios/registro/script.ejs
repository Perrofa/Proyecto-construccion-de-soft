<script>
    let flag = false;
    let flag2 = false;

    document.getElementById("ver-registro").addEventListener("click", function() {
        event.preventDefault();
        if(flag){
            document.getElementById("wrapper").innerHTML = "";
            this.textContent = "Mostrar usuarios";
            this.id = "ver-registro";
        } else {
            new gridjs.Grid({
            columns: ["ID", "Nombre", "ContraseÃ±a", "Correo", "Priv"],
            pagination: true,
            search: true,
            sort: true,
            server: {
                url: "/usuarios/usuarios",
                then: data => data.usuarios.map( usuario => [usuario.UserID, usuario.NomUsuario, usuario.ContraUsuario, usuario.MailUsuario, usuario.PrivUsuario])
            }
            }).render(document.getElementById("wrapper"));

            this.textContent = "Ocultar usuarios";
            this.id = "ocultar-registro";
        }
        flag = !flag;
    });

    document.getElementById("registro-form").addEventListener("submit", function(event) {
            alert("Usuario registrado exitosamente");
    });

    document.getElementById("wrapper").addEventListener("click", function(event) {
        const registroForm = document.getElementById("registro-form");
        if (registroForm.contains(event.target)) {
            event.preventDefault();
        }
    });

    document.getElementById("eliminar-form").addEventListener("submit", function(event) {
        alert("Usuario eliminado exitosamente");
    });

    
</script>